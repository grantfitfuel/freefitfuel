/* =========================================
   FreeFitFuel — Global Styles
   ========================================= */

/* ---------- Theme tokens ---------- */
:root{
  --bg:#0e0e12; --ink:#f7f7fb; --muted:#c8c8d2; --inkdim:#9a9aa6;
  --accent:#FF6A00; --accent2:#FF9A3D;
  --blue:#9bc4f0;               /* header & footer background */
  --glass:rgba(255,255,255,.08);
  --stroke:rgba(255,255,255,.14);
  --maxw:1140px;
  --radius:16px;

  /* Hero sizing */
  --hero-min: 260px;
  --hero-ideal: 46vh;
  --hero-max: 560px;
}

/* ---------- Base ---------- */
*{ box-sizing:border-box }
html,body{ margin:0; background:var(--bg); color:var(--ink); font-family:Inter,Arial,sans-serif; line-height:1.6 }
a{ color:inherit; text-decoration:none }
a:hover{ color:var(--accent); text-decoration:underline }
img{ max-width:100%; height:auto; display:block }
.wrap{ max-width:var(--maxw); margin:0 auto; padding:16px 20px }
h1{ margin:.6rem 0 .5rem; font-weight:800; letter-spacing:.2px; font-size:clamp(2.2rem,1.4rem + 3vw,3.3rem) }
.accent{ background:linear-gradient(90deg,var(--accent2),var(--accent)); -webkit-background-clip:text; background-clip:text; color:transparent }
.lead{ max-width:70ch; color:#c8c8d2; font-size:1.05rem }
.meta{ font-size:.92rem; color:#b6b6c6 }

/* =========================================
   HEADER (Endurance-style across site)
   ========================================= */
.site-header{
  position:sticky; top:0; z-index:1000;
  background:var(--blue);
  border-bottom:1px solid #cfd9e6;
}
.site-header .container{
  max-width:var(--maxw);
  margin:0 auto; padding:10px 20px;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.site-header .logo img{ height:56px }

.main-nav{ display:flex; gap:14px; margin-left:auto }
.main-nav a{
  color:#111; font-weight:600; padding:.45rem .7rem; display:inline-block; border-radius:999px;
}
.main-nav a[aria-current="page"]{
  background:var(--glass); border:1px solid var(--stroke); color:#111;
}
.main-nav a:hover{ color:var(--accent) }

/* Calm variant (optional): add class="calm" to .site-header */
.site-header.calm{
  background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));
  border-bottom:1px solid var(--stroke);
}
.site-header.calm .main-nav a[aria-current="page"]{ background:rgba(255,255,255,.08) }

/* Hamburger (mobile) */
.hamburger{
  display:none; position:relative; width:44px; height:36px;
  border:0; background:transparent; padding:0; cursor:pointer;
}
.hamburger span{
  position:absolute; left:8px; right:8px; height:3px; border-radius:2px;
  background:#111; transition:transform .25s ease, opacity .2s ease, top .25s ease;
}
.hamburger span:nth-child(1){ top:10px }
.hamburger span:nth-child(2){ top:16.5px }
.hamburger span:nth-child(3){ top:23px }
.hamburger.active span:nth-child(1){ top:16.5px; transform:rotate(45deg) }
.hamburger.active span:nth-child(2){ opacity:0 }
.hamburger.active span:nth-child(3){ top:16.5px; transform:rotate(-45deg) }

@media (max-width: 820px){
  :root{ --headerH: 72px }
  .hamburger{ display:block; z-index:1101 }
  .main-nav{
    position:fixed; top:var(--headerH); left:0; right:0;
    display:flex; flex-direction:column; gap:0;
    background:var(--blue); border-bottom:1px solid #cfd9e6;
    padding:10px 14px 12px; margin:0; z-index:1100;
    visibility:hidden; opacity:0; pointer-events:none;
    transform:translateY(-8px);
    transition:visibility .0s .2s, opacity .2s ease, transform .2s ease;
  }
  .main-nav a{ padding:12px 16px; color:#111 }
  .main-nav.open{
    visibility:visible; opacity:1; pointer-events:auto;
    transform:translateY(0);
    transition:opacity .2s ease, transform .2s ease;
  }
}

/* =========================================
   HERO — Single source of truth (uses clamp)
   ========================================= */
header.hero-mini{ position:relative; border-bottom:1px solid #1b1b22 }
header.hero-mini figure{ margin:0; position:relative; overflow:hidden }
header.hero-mini figure > img{
  width:100% !important;
  height:clamp(var(--hero-min), var(--hero-ideal), var(--hero-max)) !important;
  min-height:0 !important;     /* defeat any legacy mins */
  max-height:none !important;   /* defeat any legacy caps */
  object-fit:cover !important;
  object-position:center 12%;
  display:block;
  filter:brightness(.88) saturate(1.05);
}
header.hero-mini .overlay{
  position:absolute; inset:0;
  background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.6));
}
header.hero-mini .content{
  position:absolute; inset:auto 0 0 0; padding:16px 20px 22px;
  max-width:var(--maxw); margin:0 auto;
}
header.hero-mini h1{ margin:0 0 .35rem }
header.hero-mini p{ max-width:70ch; margin:.2rem 0 .6rem; color:#d0d0da }

/* Optional alternate hero (image-only blocks on wellbeing pages) */
.page-hero{ margin:0 0 14px }
.page-hero img{
  width:100%;
  height:auto !important;
  max-height:clamp(220px, 42vh, 520px);
  object-fit:cover;
  display:block;
  border-radius:12px;
  border:1px solid var(--stroke);
}
.page-hero--contain img{ object-fit:contain !important }
.page-hero--tall img{ max-height:clamp(320px, 60vh, 680px) !important }

/* Kill legacy inline sizes on hero images if any slipped through */
header.hero-mini figure > img[style],
.page-hero img[style]{ height:auto !important; max-height:none !important }

/* Small phones: optional slightly shorter hero */
@media (max-width:420px){
  header.hero-mini figure > img{
    height:clamp(220px, 42vh, 480px) !important;
  }
}

/* =========================================
   Components
   ========================================= */

/* Buttons */
.btn{
  display:inline-flex; align-items:center; gap:.55rem;
  padding:.85rem 1.15rem; border-radius:12px; font-weight:800; border:0;
  background:var(--accent); color:#111; box-shadow:0 2px 0 rgba(0,0,0,.15);
}
.btn:hover{ filter:brightness(1.05) }

.btn--pill{
  display:inline-flex; align-items:center; gap:.35rem;
  border:1px solid var(--stroke); background:var(--glass); color:var(--ink);
  border-radius:999px; padding:.34rem .65rem; font-size:.9rem; text-decoration:none;
}
.btn--pill:hover{ color:var(--accent) }
.btn-row{ display:flex; flex-wrap:wrap; gap:.45rem }

/* Mini-nav (pills) */
.mini-nav{ display:flex; flex-wrap:wrap; gap:.5rem; margin:.75rem 0 1rem }
.mini-nav a{
  border:1px solid var(--stroke); background:var(--glass); color:var(--ink);
  text-decoration:none; padding:.38rem .75rem; border-radius:999px; font-size:.92rem;
}
.mini-nav a:hover{ color:var(--accent) }

/* Cards, grids, splits */
.grid{ display:grid; gap:14px; margin:22px 0 }
@media(min-width:780px){ .grid.three{ grid-template-columns:repeat(3,1fr) } }
@media(min-width:900px){ .grid.cols2{ grid-template-columns:repeat(2,1fr) } }
.card{
  background:var(--glass); border:1px solid var(--stroke);
  border-radius:var(--radius); padding:14px;
}
.card h2, .card h3{ margin:.1rem 0 .4rem }

.split{ display:grid; gap:14px; align-items:center; margin:26px 0 }
@media(min-width:900px){ .split{ grid-template-columns:1.15fr 1fr } }
.split figure{ margin:0; border-radius:16px; border:1px solid var(--stroke); overflow:hidden; background:var(--glass) }
.split img{ width:100%; height:320px; object-fit:cover; object-position:center 45% }

/* Scrollers / tiles */
.strip{ scroll-margin-top:70px }
.scroller{ display:flex; gap:12px; overflow-x:auto; padding:.25rem; scroll-snap-type:x proximity }
.scroller::after{ content:"← swipe →"; align-self:center; margin-left:12px; opacity:.5; font-size:.9rem }
.tile{
  flex:0 0 auto; width:280px; border-radius:14px; border:1px solid var(--stroke);
  background:var(--glass); display:flex; flex-direction:column; overflow:visible; scroll-snap-align:center;
}
.thumb{ aspect-ratio:16/9; background:#0c0c10; border-bottom:1px solid var(--stroke); display:block; overflow:hidden; border-top-left-radius:14px; border-top-right-radius:14px }
.thumb img{ width:100%; height:100%; object-fit:cover; object-position:center; display:block }
.cap{ padding:.7rem .9rem; color:#c8c8d2; font-size:.95rem }

/* Details (collapsible standards/notes) */
.details{
  background:#0e1217; border:1px solid var(--stroke);
  border-radius:10px; padding:.6rem .7rem; margin:.55rem 0;
}
.details summary{ cursor:pointer; font-weight:600 }
.steps{ margin:.25rem 0 .5rem; padding-left:1.1rem }
.steps li{ margin:.25rem 0 }

/* Tables (plans) */
table.plan{ width:100%; border-collapse:collapse; margin:.35rem 0 .1rem }
.plan th,.plan td{ border:1px solid var(--stroke); padding:.5rem .6rem; text-align:left; vertical-align:top }
.plan th{ background:rgba(255,255,255,.06) }

/* Inputs (filters/calcs) */
.input, select, textarea{
  background:#0b0f14; color:var(--ink);
  border:1px solid var(--stroke); border-radius:8px; padding:.45rem .55rem;
}

/* =========================================
   Footer
   ========================================= */
.site-footer{
  background:var(--blue); border-top:1px solid #cfd9e6; text-align:center;
}
.site-footer .container{
  max-width:var(--maxw); margin:0 auto; padding:20px;
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px;
}
.site-footer img{ height:64px }
.site-footer p{ margin:4px 0; color:#111 }
.site-footer .credit{ font-weight:700 }

/* =========================================
   Dialog / Modal
   ========================================= */
dialog#recipeModal{
  background:#111 !important; color:var(--ink);
  border:1px solid var(--stroke); border-radius:12px;
}
dialog#recipeModal .modal-inner{ padding:16px }
dialog::backdrop{ background:rgba(0,0,0,.6) }

.macros{ display:flex; flex-wrap:wrap; gap:10px; margin:.4rem 0 .2rem }
.macro-chip{
  background:#0f0f15; border:1px solid #2b2b36; border-radius:999px;
  padding:.18rem .55rem; font-size:.9rem; white-space:nowrap;
}

/* =========================================
   Print — recipe card & general
   ========================================= */
@media print {
  /* Paper base */
  html, body { background:#fff !important; color:#000 !important; }
  * { background:transparent !important; color:#000 !important;
      box-shadow:none !important; text-shadow:none !important;
      border-color:#000 !important; }

  /* Only print the generated recipe content if present */
  #printArea { display:block !important; color:#000 !important; background:#fff !important; visibility:visible !important; }
  body > *:not(#printArea) { display:none !important; }

  #printArea article { margin:0 !important; padding:0 !important; border:0 !important; }
  #printArea h1, #printArea h2, #printArea h3 { color:#000 !important; margin:.2rem 0; }
  #printArea p, #printArea li { line-height:1.35; }
  #printArea img { display:none !important; } /* per your request */

  @page { margin:12mm; }
}
