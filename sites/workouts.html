<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Workouts – FreeFitFuel</title>

  <!-- Shared site CSS (same file as Home uses) -->
  <link rel="stylesheet" href="style.css?v=23">

  <!-- Icons -->
  <link rel="icon" type="image/svg+xml" href="img/freefitfuel-logo.svg">
  <link rel="icon" type="image/png" sizes="32x32"  href="img/freefitfuel-logo-32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="img/freefitfuel-logo-180.png">

  <style>
    /* Page-specific light styling */
    .hero-mini{position:relative;border-bottom:1px solid #1b1b22}
    .hero-mini figure{margin:0;position:relative}
    .hero-mini img{width:100%;height:45vh;min-height:320px;object-fit:cover;filter:brightness(.88)}
    .hero-mini .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.45),rgba(0,0,0,.65))}
    .hero-mini .content{position:absolute;inset:auto 0 0 0;padding:18px 20px}
    .eyebrow{display:inline-block;background:rgba(255,255,255,.10);border:1px solid var(--stroke);padding:.35rem .7rem;border-radius:999px;color:#ddd}

    .controls{display:flex;flex-wrap:wrap;gap:.6rem;margin:12px 0 6px}
    .controls .group{display:flex;gap:.35rem;align-items:center;background:var(--glass);border:1px solid var(--stroke);padding:.4rem .55rem;border-radius:12px}
    .seg{display:flex;border:1px solid var(--stroke);border-radius:999px;overflow:hidden}
    .seg button{padding:.35rem .65rem;border:0;background:transparent;color:#eaeaea}
    .seg button.active{background:var(--accent);color:#111}
    .seg button:not(.active):hover{filter:brightness(1.1)}
    .equip input{margin-right:.3rem}

    .plan{background:var(--glass);border:1px solid var(--stroke);border-radius:16px;padding:14px;margin:14px 0}
    .plan h3{margin:.1rem 0 .5rem}
    .grid3{display:grid;gap:12px}
    @media(min-width:900px){.grid3{grid-template-columns:repeat(3,1fr)}}

    .lib{margin:18px 0}
    .tile{background:#15151b;border:1px solid #2a2a34;border-radius:14px;padding:10px;display:flex;flex-direction:column;gap:8px}
    .tile h4{margin:.15rem 0}
    .thumb{position:relative;aspect-ratio:16/9;background:#000;border-radius:10px;overflow:hidden}
    .thumb iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
    .thumb .playbtn{position:absolute;inset:auto 10px 10px auto;background:rgba(0,0,0,.55);color:#fff;border:1px solid #666;border-radius:999px;padding:.3rem .6rem;font-size:.85rem}
    .tile .tags{display:flex;flex-wrap:wrap;gap:.35rem}
    .tag{background:rgba(255,255,255,.10);border:1px solid var(--stroke);border-radius:999px;padding:.2rem .55rem;font-size:.8rem;color:#cfd2df}
    .muscle-badges{display:flex;align-items:center;gap:8px;margin-top:2px}
    .muscle-badges img{height:28px;width:auto;display:none}
    .tile .fallback{display:flex;gap:.5rem;flex-wrap:wrap}
    .tile .fallback a{font-size:.85rem;color:#9bc4f0;text-decoration:none}
    .tile .fallback a:hover{text-decoration:underline}

    .timer{background:var(--glass);border:1px solid var(--stroke);border-radius:12px;padding:12px;margin:16px 0;display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    .timer .time{font-size:1.6rem;font-weight:800;letter-spacing:.5px}
    .timer button{background:#2a2a34;color:#eaeaea;border:1px solid #3a3a46;border-radius:8px;padding:.5rem .7rem}
    .timer button.primary{background:var(--accent);color:#111;border-color:transparent;font-weight:800}
  </style>
</head>
<body>

<!-- HEADER (shared) -->
<header class="site-header">
  <div class="container">
    <a href="index.html" class="logo"><img src="img/freefitfuel-logo.svg" alt="FreeFitFuel Logo" height="56"></a>
    <button class="hamburger" aria-label="Open menu" aria-controls="primary-nav" aria-expanded="false"><span></span><span></span><span></span></button>
    <nav id="primary-nav" class="main-nav" aria-label="Primary">
      <a href="index.html">Home</a>
      <a href="ideas.html">Ideas</a>
      <a href="guides.html">Guides</a>
      <a href="workouts.html" aria-current="page">Workouts</a>
      <a href="nutrition.html">Nutrition</a>
      <a href="wellbeing.html">Wellbeing</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</header>

<!-- HERO -->
<header class="hero-mini" role="banner" aria-label="Workouts hero">
  <figure>
    <img src="img/floorpress.jpg" alt="Rolling out a mat at home">
    <div class="overlay" aria-hidden="true"></div>
  </figure>
  <div class="content wrap">
    <span class="eyebrow">Smart split • Home-friendly</span>
    <h1><span class="accent">Workouts that Adapt to Your Goal</span></h1>
    <p class="lead">Choose your goal and difficulty. Equipment is optional. Every plan keeps joints happy and form clear.</p>
  </div>
</header>

<main class="wrap">

  <!-- GLOBAL CONTROLS -->
  <section aria-label="Workout controls" class="controls">
    <div class="group">
      <strong>Goal:</strong>
      <div class="seg" id="goalSeg">
        <button class="active" data-goal="cut">Cut</button>
        <button data-goal="recomp">Recomp</button>
        <button data-goal="bulk">Lean Bulk</button>
      </div>
    </div>
    <div class="group">
      <strong>Difficulty:</strong>
      <div class="seg" id="diffSeg">
        <button class="active" data-diff="beg">Beginner</button>
        <button data-diff="int">Intermediate</button>
        <button data-diff="adv">Advanced</button>
      </div>
    </div>
    <div class="group equip" id="equipBox" aria-label="Equipment">
      <label><input type="checkbox" value="db" checked> Dumbbells</label>
      <label><input type="checkbox" value="bands" checked> Bands</label>
      <label><input type="checkbox" value="bw" checked> Bodyweight</label>
      <label><input type="checkbox" value="bar"> Bar / Pull-up</label>
      <label><input type="checkbox" value="bench"> Bench / Chair</label>
    </div>
  </section>

  <!-- GOAL PANELS (calories/macros at a glance) -->
  <section class="grid3" id="goalPanels" aria-label="Goal guidance">
    <article class="plan" data-panel="cut">
      <h3>Cut — keep strength, drop fat</h3>
      <ul>
        <li>Calories: maintenance −10–20% · Protein 1.8–2.2 g/kg</li>
        <li>Rest: mains 60–120s · accessories 45–75s</li>
        <li>Cardio: 2–4× Zone 2 · Steps 8–12k/day</li>
      </ul>
    </article>
    <article class="plan" data-panel="recomp" hidden>
      <h3>Recomp — hold weight, improve body comp</h3>
      <ul>
        <li>Calories: around maintenance · Protein ~2.0 g/kg</li>
        <li>Rest: mains 90–150s · accessories 60–90s</li>
        <li>Cardio: 2–3× Zone 2 · Steps 7–10k/day</li>
      </ul>
    </article>
    <article class="plan" data-panel="bulk" hidden>
      <h3>Lean Bulk — build muscle, recover well</h3>
      <ul>
        <li>Calories: maintenance +5–15% · Protein 1.6–2.0 g/kg</li>
        <li>Rest: mains 120–180s · accessories 75–120s</li>
        <li>Cardio: 1–2× light Zone 2 · Steps 7–9k/day</li>
      </ul>
    </article>
  </section>

  <!-- WEEKLY SPLIT -->
  <section class="plan" aria-label="Weekly split">
    <h2>Weekly Split</h2>
    <div class="grid3">
      <article>
        <h3>Push Day — Chest • Shoulders • Triceps</h3>
        <ul class="rx" data-day="push"></ul>
      </article>
      <article>
        <h3>Pull Day — Back • Biceps</h3>
        <ul class="rx" data-day="pull"></ul>
      </article>
      <article>
        <h3>Legs Day — Quads • Glutes • Hamstrings • Calves</h3>
        <ul class="rx" data-day="legs"></ul>
      </article>
      <article>
        <h3>Core Day — Abs • Obliques • Low Back</h3>
        <ul class="rx" data-day="core"></ul>
      </article>
      <article>
        <h3>Full-Body Day (optional)</h3>
        <ul class="rx" data-day="full"></ul>
      </article>
    </div>
    <p class="meta">The sets × reps below adapt to your **Goal** and **Difficulty**. Swap any movement using the drop-downs.</p>
  </section>

  <!-- INTERVAL TIMER (with sound) -->
  <section class="timer" aria-label="Interval timer">
    <strong>Rest Timer</strong>
    <span class="time" id="tTime">01:00</span>
    <button class="primary" id="tStart">Start</button>
    <button id="tStop">Stop</button>
    <button id="t60">60s</button>
    <button id="t90">90s</button>
    <button id="t120">120s</button>
    <audio id="beep" preload="auto">
      <!-- Soft bell (base64 WAV) -->
      <source src="data:audio/wav;base64,UklGRmQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABYBYWFhYWFhYQAAAACAgICAgP8AAP8A//////////8AAAAAAP8A////AP8A////AAAAAP8AAP8A////AAAAAP///wD///8A" type="audio/wav">
    </audio>
  </section>

  <!-- FORM LIBRARY -->
  <section class="lib" aria-labelledby="form-title">
    <h2 id="form-title">Form Library (watch & copy)</h2>
    <p class="meta">Tap a tile to load the clip. If a video is unavailable, use the built-in buttons to open the clip on YouTube or search the exercise name.</p>

    <div class="grid3" id="libGrid"></div>
  </section>

  <!-- DISCLAIMER -->
  <section class="plan">
    <h2>Important Note</h2>
    <p>The content on FreeFitFuel is for general fitness education only and isn’t a substitute for personalised medical advice. Consult a qualified professional before starting a new programme, especially if you have any health conditions or injuries. Stop any exercise that causes sharp pain, dizziness, chest pain, or unusual shortness of breath.</p>
  </section>
</main>

<!-- FOOTER (shared) -->
<footer class="site-footer">
  <div class="container">
    <img src="img/freefitfuel-logo.svg" alt="FreeFitFuel Logo" height="64">
    <p>© 2025 FreeFitFuel · All rights reserved.</p>
    <p class="credit">Created by Grant Cameron Anthony</p>
  </div>
</footer>

<!-- JS: hamburger, goal/diff logic, timer, library -->
<script>
  // Hamburger
  (function(){
    const btn = document.querySelector('.hamburger');
    const nav = document.querySelector('.main-nav');
    if (!btn || !nav) return;
    btn.addEventListener('click', () => {
      const open = btn.classList.toggle('active');
      nav.classList.toggle('open', open);
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });
  })();

  // ======= DATA =======
  // Reps & sets per goal + difficulty (applies to all days)
  const RX = {
    cut:   { beg:{main:'3×6–8',  acc:'2×10–12', restMain:60, restAcc:45},
            int:{main:'4×5–8',  acc:'3×10–12', restMain:75, restAcc:60},
            adv:{main:'5×4–8',  acc:'3–4×10–15',restMain:90, restAcc:60} },
    recomp:{ beg:{main:'3×6–10', acc:'3×10–12', restMain:90, restAcc:60},
            int:{main:'4×6–10', acc:'3–4×10–15',restMain:105,restAcc:75},
            adv:{main:'5×5–8',  acc:'4×10–15',  restMain:120,restAcc:90} },
    bulk:  { beg:{main:'4×6–8',  acc:'3×10–15', restMain:120,restAcc:75},
            int:{main:'5×5–8',  acc:'4×10–15', restMain:150,restAcc:90},
            adv:{main:'5–6×4–8',acc:'4–5×12–15',restMain:180,restAcc:105} }
  };

  // Exercise pools (each has type, muscle tags, optional YouTube id)
  // Tip: if a specific ID ever breaks, the tile still offers "Open on YouTube" + Search.
  const EXS = [
    // PUSH
    {name:'DB Floor Press', day:'push', type:'db', main:true, tags:['chest','triceps','front delts'], yt:'xwWfXfW8qGQ'},
    {name:'DB Bench Press', day:'push', type:'db', main:true, tags:['chest','triceps','front delts'], yt:'tuwHzzPdaGc'},
    {name:'Push-up',        day:'push', type:'bw', main:true, tags:['chest','triceps','front delts'], yt:'IODxDxX7oi4'},
    {name:'Arnold Press',   day:'push', type:'db', main:false, tags:['front delts','side delts','rear delts'], yt:'3ml7BH7mNwQ'},
    {name:'Lateral Raise',  day:'push', type:'db', main:false, tags:['side delts'], yt:'3VcKaXpzqRo'},

    // PULL
    {name:'Doorway Row',          day:'pull', type:'bw', main:true,  tags:['lats','mid back','rear delts'], yt:'OTk7F6XYxJY'},
    {name:'Band Row',             day:'pull', type:'bands', main:true, tags:['lats','mid back','rear delts'], yt:'6oFzlxh8G0I'},
    {name:'Band Lat Pulldown',    day:'pull', type:'bands', main:true, tags:['lats','biceps','mid back'], yt:'xK9Qv2s4h3s'},
    {name:'Chest-Supported DB Row',day:'pull', type:'db', main:false, tags:['lats','mid back','rear delts'], yt:'dypKx0R2G8A'},
    {name:'Chin-up (band assist)',day:'pull', type:'bar bands', main:true, tags:['lats','biceps'], yt:'9YFzV9bQh5g'},
    {name:'Zottman Curl',         day:'pull', type:'db', main:false, tags:['biceps','forearms'], yt:'Z_7e9Kp0EiE'},

    // LEGS
    {name:'Step-up',           day:'legs', type:'bench db', main:true, tags:['quads','glutes','hamstrings'], yt:'qHOk2sM0g4Q'},
    {name:'DB Romanian Deadlift',day:'legs', type:'db', main:true, tags:['hamstrings','glutes','low back'], yt:'DJqB4Q8h3FQ'},
    {name:'DB Thruster',       day:'legs', type:'db', main:false, tags:['quads','glutes','shoulders'], yt:'2yjwXTZQDDI'},

    // CORE
    {name:'Side Plank',        day:'core', type:'bw', main:true, tags:['obliques','core'], yt:'K2VljzCC16g'},
    {name:'Dead Bug',          day:'core', type:'bw', main:true, tags:['core','hip flexors'], yt:'4botcY9DPnA'},
    {name:'Hollow Hold',       day:'core', type:'bw', main:false, tags:['core'], yt:'vz3D36VXefI'},

    // FULL
    {name:'Man Maker',         day:'full', type:'db', main:true, tags:['full body','core','shoulders'], yt:'l0qZt5QhZ6M'},
    {name:'DB Clean & Press',  day:'full', type:'db', main:true, tags:['hamstrings','glutes','shoulders'], yt:'5qJk9wO6P9Q'},

    // CALISTHENICS (progressions)
    {name:'Wall Handstand (beginner)', day:'push', type:'bw', main:false, tags:['shoulders','front delts','triceps'], yt:'VQJ9h3bV1yU'},
    {name:'Ring Row (progression)',    day:'pull', type:'bw', main:false, tags:['lats','mid back','biceps'], yt:'6f0G3RZyq5I'}
  ];

  // ======= RENDER WEEKLY RX =======
  const rxLists = document.querySelectorAll('.rx');
  function fillRX(){
    const goal = document.querySelector('#goalSeg .active').dataset.goal;
    const diff = document.querySelector('#diffSeg .active').dataset.diff;
    const cfg  = RX[goal][diff];

    rxLists.forEach(ul=>{
      const day = ul.dataset.day;
      const pool = EXS.filter(e=>e.day===day);
      // Pick 2 mains + 2 accessories where available
      const mains = pool.filter(e=>e.main).slice(0,2);
      const accs  = pool.filter(e=>!e.main).slice(0,2);
      const rows = [...mains.map(e=>[e, cfg.main]), ...accs.map(e=>[e, cfg.acc])];

      ul.innerHTML = rows.map(([e, dose]) => {
        // equipment selector
        const opts = [['db','DB'],['bands','Bands'],['bw','Bodyweight'],['bar','Bar'],['bench','Bench']]
          .map(([v,l])=>`<option ${e.type.includes(v)?'selected':''} value="${v}">${l}</option>`).join('');
        // simple swap dropdown (same day pool)
        const options = EXS.filter(x=>x.day===day).map(x=>`<option ${x.name===e.name?'selected':''}>${x.name}</option>`).join('');

        return `<li>
          <strong>${e.name}</strong> — <em>${dose}</em>
          <div style="display:flex;gap:.5rem;margin:.25rem 0 .4rem;flex-wrap:wrap">
            <label>Swap: <select class="swap" data-day="${day}">${options}</select></label>
            <label>Equip: <select class="equipchoose">${opts}</select></label>
          </div>
          <div class="tags">${e.tags.map(t=>`<span class="tag">${t}</span>`).join('')}</div>
        </li>`;
      }).join('');
    });
  }
  fillRX();

  document.getElementById('goalSeg').addEventListener('click', e=>{
    if(e.target.tagName!=='BUTTON') return;
    [...e.currentTarget.children].forEach(b=>b.classList.toggle('active', b===e.target));
    // toggle goal panels
    document.querySelectorAll('[data-panel]').forEach(p=>{
      p.hidden = p.dataset.panel !== e.target.dataset.goal;
    });
    fillRX();
  });
  document.getElementById('diffSeg').addEventListener('click', e=>{
    if(e.target.tagName!=='BUTTON') return;
    [...e.currentTarget.children].forEach(b=>b.classList.toggle('active', b===e.target));
    fillRX();
  });

  // ======= TIMER =======
  (function(){
    const t = document.getElementById('tTime');
    const beep = document.getElementById('beep');
    let remain = 60, id=null;

    function fmt(s){const m=Math.floor(s/60), r=(s%60).toString().padStart(2,'0'); return `${m}:${r}`;}
    function set(s){ remain=s; t.textContent=fmt(remain); }
    function tick(){ if(remain>0){ remain--; t.textContent=fmt(remain); if(remain===0){ try{beep.currentTime=0;beep.play().catch(()=>{});}catch(e){} clearInterval(id); id=null; } } }

    document.getElementById('tStart').onclick=()=>{ if(id) return; id=setInterval(tick,1000); };
    document.getElementById('tStop').onclick =()=>{ if(id){ clearInterval(id); id=null; } };
    document.getElementById('t60').onclick  =()=>set(60);
    document.getElementById('t90').onclick  =()=>set(90);
    document.getElementById('t120').onclick =()=>set(120);
  })();

  // ======= FORM LIBRARY =======
  const lib = document.getElementById('libGrid');
  function ytThumb(id){ return `https://i.ytimg.com/vi/${id}/hqdefault.jpg`; }
  function renderLib(){
    lib.innerHTML = EXS.map(e=>{
      const q = encodeURIComponent(e.name + ' exercise form');
      const yid = e.yt || '';
      const thumb = yid ? `<img alt="" src="${ytThumb(yid)}" style="width:100%;height:100%;object-fit:cover">` : '';
      return `<article class="tile" data-name="${e.name}">
        <h4>${e.name}</h4>
        <div class="thumb" data-yt="${yid}">
          ${thumb}
          <button class="playbtn" title="Play">Play</button>
        </div>
        <div class="muscle-badges">
          <!-- If you add PNGs (e.g., img/muscles/front-delts.png), they’ll show automatically -->
        </div>
        <div class="tags">${e.tags.map(t=>`<span class="tag">${t}</span>`).join('')}</div>
        <div class="fallback">
          ${yid ? `<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=${yid}">Open on YouTube</a>` : ''}
          <a target="_blank" rel="noopener" href="https://www.youtube.com/results?search_query=${q}">Try a search</a>
        </div>
      </article>`;
    }).join('');
  }
  renderLib();

  // lazy load on click + handle blocked embeds
  lib.addEventListener('click', e=>{
    const btn = e.target.closest('.playbtn');
    if(!btn) return;
    const box = btn.closest('.thumb');
    const id  = box.dataset.yt;
    if(!id){ window.open(box.parentElement.querySelector('.fallback a[href*="results?"]').href, '_blank'); return; }
    box.innerHTML = `<iframe src="https://www.youtube-nocookie.com/embed/${id}?rel=0&modestbranding=1"
      title="Exercise video" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`;
  });

  // auto-show muscle PNGs if present
  (function(){
    const MAP = {
      'front delts':'img/muscles/front-delts.png',
      'side delts':'img/muscles/side-delts.png',
      'rear delts':'img/muscles/rear-delts.png',
      'chest':'img/muscles/chest.png',
      'triceps':'img/muscles/triceps.png',
      'biceps':'img/muscles/biceps.png',
      'lats':'img/muscles/lats.png',
      'mid back':'img/muscles/mid-back.png',
      'low back':'img/muscles/low-back.png',
      'quads':'img/muscles/quads.png',
      'hamstrings':'img/muscles/hamstrings.png',
      'glutes':'img/muscles/glutes.png',
      'core':'img/muscles/core.png',
      'obliques':'img/muscles/obliques.png',
      'hip flexors':'img/muscles/hip-flexors.png',
      'full body':'img/muscles/full-body.png'
    };
    document.querySelectorAll('#libGrid .tile').forEach(tile=>{
      const badges = tile.querySelector('.muscle-badges');
      tile.querySelectorAll('.tag').forEach(tag=>{
        const src = MAP[tag.textContent.trim().toLowerCase()];
        if(src){ const img=new Image(); img.src=src; img.alt=tag.textContent; img.onload=()=>{ img.style.display='block'; }; badges.appendChild(img); }
      });
    });
  })();
</script>
</body>
</html>
