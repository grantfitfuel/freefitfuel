<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ideas – FreeFitFuel</title>

  <link rel="stylesheet" href="style.css?v=29">
  <link rel="icon" type="image/svg+xml" href="img/freefitfuel-logo.svg">

  <style>
    :root{ --cardw: 820px; }
    .wrap{max-width:var(--maxw);margin:0 auto;padding:18px 20px}

    /* Hero */
    .hero-mini figure{position:relative;max-height:360px;overflow:hidden}
    .hero-mini img{width:100%;height:360px;object-fit:cover}
    .hero-mini .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.55))}
    .hero-mini .content{position:relative;color:#fff}

    /* Sections and cards */
    .section{background:var(--glass);border:1px solid var(--stroke);border-radius:14px;margin:12px auto;padding:14px;max-width:var(--cardw)}
    .card{padding:14px;border:1px solid var(--stroke);border-radius:12px;background:#111418;display:flex;flex-direction:column;gap:.6rem}
    .card h3{margin:.1rem 0 .2rem;font-size:1.12rem}
    .meta{color:var(--inkdim);font-size:.92rem}

    /* Buttons */
    .btn{display:inline-flex;align-items:center;gap:.35rem;cursor:pointer;
      border:1px solid var(--stroke);background:var(--glass);color:var(--ink);
      padding:.45rem .9rem;border-radius:999px;font-size:.9rem;text-decoration:none}
    .btn:hover{color:var(--accent)}
    .btn-row{display:flex;flex-wrap:wrap;gap:.4rem}

    /* Chips */
    .chips{display:flex;flex-wrap:wrap;gap:.35rem}
    .chip{background:var(--glass);border:1px solid var(--stroke);border-radius:999px;padding:.24rem .5rem;font-size:.8rem}

    /* Archive */
    #archiveWrap{max-height:0;overflow:hidden;transition:max-height .35s ease, opacity .25s ease;padding-top:0;opacity:0}
    #archiveWrap.open{max-height:2000px;opacity:1;padding-top:.75rem}
    .archive-grid{display:grid;gap:10px;grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}
    .archive-card{border:1px solid var(--stroke);border-radius:10px;background:#111418;padding:.6rem}
    .archive-card h4{margin:.1rem 0;font-size:1rem}
  </style>
</head>
<body>

<!-- Shared header mount -->
<div id="site-header"></div>
<script src="/js/header-loader.js"></script>

<header class="hero-mini" role="banner" aria-label="Ideas hero">
  <figure>
    <img src="img/ideas-hero.png" alt="People moving, cooking, and smiling outdoors">
    <div class="overlay" aria-hidden="true"></div>
  </figure>
  <div class="content wrap">
    <h1><span class="accent">Weekly Challenge</span></h1>
    <p>One tiny idea to keep you moving forward. Monday → Sunday, refreshed automatically each week.</p>
    <div class="btn-row">
      <a class="btn" href="pdf/ideas/fitness-bingo.pdf">Fitness Bingo</a>
      <a class="btn" href="pdf/ideas/pushup-tracker.pdf">Push-Up Tracker</a>
      <a class="btn" href="pdf/ideas/hydration-log.pdf">Hydration Log</a>
    </div>
  </div>
</header>

<main class="wrap">
  <!-- THIS WEEK -->
  <section class="section" aria-labelledby="weeklyTitle">
    <article class="card" id="challengeCard">
      <h3 id="weeklyTitle">Loading…</h3>
      <p class="meta" id="cMeta">—</p>
      <p id="cSummary">—</p>

      <div class="chips" id="cChips"></div>
      <div class="btn-row" id="cBtns"></div>
    </article>
  </section>

  <!-- TOGGLE ARCHIVE -->
  <section class="section" aria-label="Browse all ideas">
    <button id="toggleArchive" class="btn" aria-expanded="false">Browse all ideas</button>
    <div id="archiveWrap">
      <div class="archive-grid" id="archiveGrid"></div>
    </div>
  </section>

  <section class="section">
      <h2>Important Note</h2>
      <p>The content on FreeFitFuel™ is for general fitness education only and isn’t a substitute for personalised medical advice. Consult a qualified professional before starting a new programme, especially if you have any health conditions or injuries. Stop any exercise that causes sharp pain, dizziness, chest pain, or unusual shortness of breath.</p>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container">
      <img src="img/freefitfuel-logo.svg" alt="FreeFitFuel Logo" height="64">
      <p>&copy; 2025 FreeFitFuel™ · All rights reserved.</p>
      <p class="credit">Created by Grant Cameron Anthony</p>
    </div>
  </footer>

<!-- Modal -->
<dialog id="ideaModal"></dialog>

<script>
/* ===== Header burger ===== */
document.addEventListener('DOMContentLoaded', () => {
  const btn = document.querySelector('.hamburger');
  const nav = document.querySelector('.main-nav');
  if(btn && nav){
    btn.addEventListener('click', () => {
      const open = btn.classList.toggle('active');
      nav.classList.toggle('open', open);
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });
  }
});

/* ===== Weekly Challenge + Archive ===== */
(function(){
  const qs=(s,e=document)=>e.querySelector(s);

  const IDEAS = [
    {title:'30-Day Push-Up Challenge',type:'Fitness',summary:'Start small, add 1–2 reps daily.',time:'≤10 min',focus:['Strength'],gear:['No equipment']},
    {title:'Plank Ladder',type:'Fitness',summary:'Add 5s per day until 2–3 min.',time:'≤5 min',focus:['Strength'],gear:['No equipment']},
    {title:'Hydration 7-Day',type:'Nutrition',summary:'Hit daily ml target for a week.',time:'≤5 min',focus:['Hydration'],gear:[]},
    {title:'Sleep Reset (14 Days)',type:'Mind',summary:'Same bedtime/wake time for 2 weeks.',time:'≤10 min',focus:['Sleep'],gear:[]},
    {title:'Weekend Adventure',type:'Fun',summary:'Park run, hike, cycle or swim.',time:'≤20 min',focus:['Cardio'],gear:[]}
  ];

  /* Week index */
  function weekIndex(len){
    const now=new Date();
    const week=Math.floor((now - new Date(now.getFullYear(),0,1))/604800000);
    return week % len;
  }

  function renderThisWeek(){
    const i=IDEAS[weekIndex(IDEAS.length)];
    qs('#weeklyTitle').textContent=i.title;
    qs('#cMeta').textContent=`${i.type} • ${i.time}`;
    qs('#cSummary').textContent=i.summary;
    qs('#cChips').innerHTML=(i.focus||[]).map(f=>`<span class="chip">${f}</span>`).join('');
  }

  function renderArchive(){
    const wrap=qs('#archiveGrid');
    if(wrap.dataset.ready) return;
    IDEAS.forEach(i=>{
      const card=document.createElement('div');
      card.className='archive-card';
      card.innerHTML=`<h4>${i.title}</h4><p class="meta">${i.type} • ${i.time}</p><p>${i.summary}</p>`;
      wrap.appendChild(card);
    });
    wrap.dataset.ready='1';
  }

  document.addEventListener('DOMContentLoaded', ()=>{
    renderThisWeek();
    const toggle=qs('#toggleArchive'), wrap=qs('#archiveWrap');
    toggle.addEventListener('click',()=>{
      const open=wrap.classList.toggle('open');
      toggle.setAttribute('aria-expanded',open);
      toggle.textContent=open?'Hide ideas':'Browse all ideas';
      if(open) renderArchive();
    });
  });
})();
</script>
</body>
</html>
